{"version":3,"file":"init.min.js","sources":["../src/init.js"],"sourcesContent":["import {exception as displayException} from 'core/notification';\nimport Templates from 'core/templates';\nexport const init = (order,orderby,page, offset, showCustomerSelect,token) => {\n    const valuesObj={\n        order:order,\n        orderby:orderby,\n        page:page,\n        offset:offset,\n        showCustomerSelect:showCustomerSelect,\n        token:token,\n        pages:document.querySelectorAll('.pagination>li a'),\n        customerid:document.querySelector('#customerid'),\n        startdate:document.querySelector('#startdate'),\n        enddate:document.querySelector('#enddate'),\n        group:document.querySelector('#selgroupid'),\n        billid:document.querySelector('#billid'),\n        attP:document.querySelector('#chkPresent'),\n        attA:document.querySelector('#chkAbsent'),\n        attL:document.querySelector('#chkLate'),\n        attE:document.querySelector('#chkExcused'),\n        ordenablefield:document.querySelectorAll('.orderby'),\n        button:document.querySelector('#idfilter')\n    }\n\n    //Depending of in which column the user clicks, the orderby needs to be setup with the right name.\n    valuesObj.ordenablefield.forEach((element) => {\n        element.addEventListener('click',(e)=>{\n            if (valuesObj.orderby===e.target.dataset.value)\n                valuesObj.order=(valuesObj.order==='ASC')?'DESC':'ASC';\n            valuesObj.orderby=e.target.dataset.value;\n            //valuesObj.page=parseInt(document.querySelector('.pagination .active').textContent);\n            valuesObj.page=1;\n            processRequest(valuesObj);\n        })\n    },valuesObj);\n\n    //Controlling the pagination\n    valuesObj.pages.forEach(elem=>{\n        elem.addEventListener('click',(e)=>{       \n            e.preventDefault();\n            //page=e.target.closest('li').dataset.value-1;\n            processRequest(valuesObj);\n        })\n    },valuesObj);\n\n    //Filtering...\n    valuesObj.button.addEventListener('click',(e)=>{\n        const loader=document.querySelector('.loader');\n        const table=document.querySelector('.generaltable');\n        loader.classList.remove('hide');\n        loader.classList.add('show');\n        table.classList.add('hide');\n        valuesObj.page=1; //Starting from page 1\n        processRequest(valuesObj);\n    },valuesObj)\n\n    if (valuesObj.showCustomerSelect){\n        customerid.addEventListener('change',(e)=>{\n            updateGroupList(e,valuesObj);\n        });\n    }\n};\n\nconst updateGroupList=(e,values)=>{\n    const cid=e.target.value;\n    requestGroupList(cid,values);\n}\n\nconst requestGroupList=(cid,values)=>{\n    let xhr=new XMLHttpRequest();\n    const url=window.location.protocol+'//'+window.location.hostname+'/webservice/rest/server.php';\n    xhr.open('POST',url,true);\n \n    const formData= new FormData();\n    formData.append('wstoken',values.token);\n    formData.append('wsfunction','report_dailyattendance_get_list_group');\n    formData.append('moodlewsrestformat','json');\n    formData.append('params[0][customerid]',cid);\n\n    xhr.send(formData);\n    xhr.onload = (event) =>{\n        onLoadGroupListFunction(xhr, cid);\n    };\n    xhr.onprogress = (event)=>{\n        onProgressFunction(event);\n    } \n    xhr.onerror = function() {\n        window.console.log(\"Solicitud fallida\");\n    };\n}\n\nconst onLoadGroupListFunction=(myXhr,cid)=>{\n    if (myXhr.readyState===4 && myXhr.status===200){\n        const res=JSON.parse(myXhr.response);\n        \n        //Getting the JSON Object so rebuilding the group Selector\n        \n        const selGroup=document.querySelector('#selgroupid');\n        selGroup.innerHTML=\"\";\n        res.forEach(group=>{\n            selGroup.innerHTML+=`<option value=${group.id}>${group.name}</option>`\n        })\n\n        \n    }\n}\n\nconst processRequest=(valuesObj)=>{\n    const sdv=Math.floor(new Date(valuesObj.startdate.value).getTime() / 1000);\n    const edv=Math.floor(new Date(valuesObj.enddate.value).getTime() / 1000);\n    const cv=valuesObj.customerid.value;\n    const vv=parseInt(valuesObj.group.value);\n    const bv=valuesObj.billid.value;\n    const attStatus={\n        attPv:(valuesObj.attP.checked)?true:false,\n        attAv:(valuesObj.attA.checked)?true:false,\n        attLv:(valuesObj.attL.checked)?true:false,\n        attEv:(valuesObj.attE.checked)?true:false,\n    };\n    const ofv=valuesObj.offset;\n    const adaptedObj={\n        orderby:valuesObj.orderby,\n        order:valuesObj.order,\n        page:valuesObj.page,\n        attStatus:attStatus,\n        ofv:ofv,\n        sdv:sdv,\n        edv:edv,\n        cv:cv,\n        vv:vv,\n        bv:bv,\n        showCustomerSelect:valuesObj.showCustomerSelect,\n        token:valuesObj.token\n    }\n    \n    processRequestStart(adaptedObj);\n\n    \n}\n\nconst processRequestStart=(adaptedObj)=>{\n    let xhr=new XMLHttpRequest();\n    const url=window.location.protocol+'//'+window.location.hostname+'/webservice/rest/server.php';\n    xhr.open('POST',url,true);\n \n    const formData= new FormData();\n    formData.append('wstoken',adaptedObj.token);\n    formData.append('wsfunction','report_dailyattendance_get_list_courses');\n    formData.append('moodlewsrestformat','json');\n    \n    formData.append('params[0][orderby]',adaptedObj.orderby);\n    formData.append('params[0][order]',adaptedObj.order);\n    formData.append('params[0][page]',adaptedObj.page);\n    formData.append('params[0][startdate]',adaptedObj.sdv);\n    formData.append('params[0][enddate]',adaptedObj.edv);\n    formData.append('params[0][groupid]',adaptedObj.vv);\n    formData.append('params[0][billid]',adaptedObj.bv);\n    formData.append('params[0][attendanceStatus][statusPresent]',adaptedObj.attStatus.attPv);\n    formData.append('params[0][attendanceStatus][statusAbsent]',adaptedObj.attStatus.attAv);\n    formData.append('params[0][attendanceStatus][statusLate]',adaptedObj.attStatus.attLv);\n    formData.append('params[0][attendanceStatus][statusExcused]',adaptedObj.attStatus.attEv);\n    formData.append('params[0][offset]',adaptedObj.ofv);\n    formData.append('params[0][customerid]',adaptedObj.cv);\n    \n    xhr.send(formData);\n    xhr.onload = (event) =>{\n        onLoadFunction(xhr, adaptedObj.orderby, adaptedObj.order, adaptedObj.page, adaptedObj.ofv, adaptedObj.showCustomerSelect, adaptedObj.cv,adaptedObj.token);\n    };\n    xhr.onloadstart=(event)=>{\n        showLoader(event);\n    }\n    xhr.onprogress = (event)=>{\n        onProgressFunction(event);\n    } \n    xhr.onloadend=(event)=>{\n        hideLoader(event);\n    }\n    xhr.onerror = function() {\n        window.console.log(\"Solicitud fallida\");\n    };\n}\n\nconst onLoadFunction=(myXhr, orderby, order, page, ofv, showCustomerSelect, customerid,token)=>{\n    \n\n    if (myXhr.readyState===4 && myXhr.status===200){\n        const res=JSON.parse(myXhr.response);\n        \n        const formattedData={\n            showCustomerSelect:showCustomerSelect,\n            customerid:customerid,\n            attendance_list:res[0].attendance_list,\n            num_records:res[0].attendance_list.length,\n            num_total_records:res[0].num_total_records,\n            order:(res[0].order==='ASC')?true:false,\n            orderby:orderby,\n            activepagenumber:page,\n            offset:ofv,\n            pages:truncateArrayWithActiveMiddle(res[0].pages,3),\n            totalPages:res[0].pages.length,\n            orderbydate:res[0].orderbydate,\n            orderbybillid:res[0].orderbybillid,\n            orderbygroup:res[0].orderbygroup,\n            orderbyname:res[0].orderbyname,\n            orderbylastname:res[0].orderbylastname,\n            orderbydescription:res[0].orderbydescription,\n            orderbywbs:res[0].orderbywbs,\n            token:token,\n            barsize:(res[0].pages.length<=3)?'small':'large',\n            previous:[\n                {\n                    page:(page-1<1)?page:page-1,\n                    url:window.location.href,\n                }\n            ],\n            next:[\n                {\n                    page:(page+1<res[0].pages.length)?page:page+1,\n                    url:window.location.href,\n                }\n            ],\n            first:[\n                {\n                    page:1,\n                    url:window.location.href,\n                }\n            ],\n            last:[\n                {\n                    page:res[0].pages.length,\n                    url:window.location.href,\n                }\n            ]\n        }\n        showTemplateAttendance(formattedData);\n       \n    }\n}\nconst showLoader=(event)=>{\n    const loader=document.querySelector('.loader');\n    loader.classList.remove('hide');\n    loader.classList.add('show');\n}\nconst onProgressFunction=(event) =>{\n    console.log(`Uploaded ${event.loaded} of ${event.total}`);\n    \n}\n\nconst hideLoader=(event)=>{\n    const loader=document.querySelector('.loader');\n    const table=document.querySelector('.generaltable');\n    loader.classList.remove('show');\n    loader.classList.add('hide');\n    table.classList.remove('hide');\n}\n\nfunction showTemplateAttendance(response){\n    //Render the choosen mustache template by Javascript\n    Templates.renderForPromise('report_dailyattendance/content-ajax',response)\n    .then(({html,js})=>{\n        \n        const content=document.querySelector('#content');\n        content.innerHTML='';\n        Templates.appendNodeContents(content,html,js);\n            const pages=document.querySelectorAll('.pagination>li a');\n            const customerid=document.querySelector('#customerid');\n            const sd=document.querySelector('#startdate');\n            const ed=document.querySelector('#enddate');\n            const group=document.querySelector('#selgroupid');\n            const billid=document.querySelector('#billid');\n            const attP=document.querySelector('#chkPresent');\n            const attA=document.querySelector('#chkAbsent');\n            const attL=document.querySelector('#chkLate');\n            const attE=document.querySelector('#chkExcused');\n            const ordenablefield=document.querySelectorAll('.orderby');\n            const order=(response.order)?'ASC':'DESC';\n            const showCustomerSelect=response.showCustomerSelect;\n            const offset=response.offset;\n            const orderby=response.orderby;\n            const page=response.activepagenumber;\n            const token=response.token;\n            const valuesObj={\n                order:order,\n                orderby:orderby,\n                page:page,\n                offset:offset,\n                showCustomerSelect:showCustomerSelect,\n                token:token,\n                pages:pages,\n                customerid:customerid,\n                startdate:sd,\n                enddate:ed,\n                group:group,\n                billid:billid,\n                attP:attP,\n                attA:attA,\n                attL:attL,\n                attE:attE,\n                ordenablefield:ordenablefield\n            }\n            \n           \n\n            //Depending of in which column the user clicks, the orderby needs to be setup with the right name.\n            ordenablefield.forEach((element) => {\n                element.addEventListener('click',(e)=>{\n                    e.preventDefault();\n                    //const page=parseInt(document.querySelector('.pagination .active').textContent);\n                    const page=1;\n                    \n                    if (valuesObj.orderby===e.target.dataset.value)\n                        valuesObj.order=(valuesObj.order==='ASC')?'DESC':'ASC';\n                    const orderby=e.target.dataset.value;\n                    valuesObj.orderby=orderby;\n                    valuesObj.page=page;\n                    processRequest(valuesObj);\n                })\n            },valuesObj);\n            //Controlling the pagination\n            pages.forEach((elem)=>{\n\n                elem.addEventListener('click',(e)=>{\n                    const pages=document.querySelectorAll('.pagination>li');\n                    pages.forEach(elem=>{\n                        elem.classList.remove('active');\n                    });\n                    window.console.log(\"paginacion\");\n                    e.preventDefault();\n                    let pageval=valuesObj.page;\n                    if (/First/.test(e.target.text))\n                        pageval=1;\n                    if (/Last/.test(e.target.text))\n                        pageval=response.totalPages;\n                    if (/\\d/.test(e.target.text))\n                        pageval=parseInt(e.target.text);\n                    \n                    if (e.target.closest('a').attributes['aria-label'].value==='Next page') \n                        pageval=(valuesObj.page+1<=response.totalPages)?valuesObj.page+1:valuesObj.page;\n                    if (e.target.closest('a').attributes['aria-label'].value==='Previous page')\n                        pageval=(valuesObj.page-1<1)?valuesObj.page:valuesObj.page-1;\n                    \n                    valuesObj.page=pageval;\n                    processRequest(valuesObj);\n                })\n                \n            },valuesObj);\n\n    })\n    .catch((error)=>displayException(error));\n  }\n\n  function truncateArrayWithActiveMiddle(arr, maxLength) {\n    const activeIndex = arr.indexOf(arr.find(item => item.active)); // Combine find and indexOf\n  \n    // Handle cases where there's no active element or less than maxLength elements\n    if (activeIndex === -1 || arr.length <= maxLength) {\n      return arr;\n    }\n  \n    // Similar logic to calculate before and after lengths\n    const halfLength = Math.floor(maxLength / 2);\n    const beforeLength = Math.min(halfLength, activeIndex);\n    const afterLength = Math.min(halfLength, arr.length - activeIndex - 1);\n  \n    // Use a loop to iterate and build the truncated array\n    const truncatedArray = [];\n    for (let i = activeIndex - beforeLength; i <= activeIndex + afterLength; i++) {\n      if (i >= 0 && i < arr.length) { // Ensure we stay within array bounds\n        truncatedArray.push(arr[i]);\n      }\n    }\n  \n    return truncatedArray;\n  }\n  "],"names":["order","orderby","page","offset","showCustomerSelect","token","valuesObj","pages","document","querySelectorAll","customerid","querySelector","startdate","enddate","group","billid","attP","attA","attL","attE","ordenablefield","button","forEach","element","addEventListener","e","target","dataset","value","processRequest","elem","preventDefault","loader","table","classList","remove","add","updateGroupList","values","cid","requestGroupList","xhr","XMLHttpRequest","url","window","location","protocol","hostname","open","formData","FormData","append","send","onload","event","onLoadGroupListFunction","onprogress","onProgressFunction","onerror","console","log","myXhr","readyState","status","res","JSON","parse","response","selGroup","innerHTML","id","name","sdv","Math","floor","Date","getTime","edv","cv","vv","parseInt","bv","attStatus","attPv","checked","attAv","attLv","attEv","ofv","adaptedObj","processRequestStart","onLoadFunction","onloadstart","showLoader","onloadend","hideLoader","formattedData","attendance_list","num_records","length","num_total_records","activepagenumber","truncateArrayWithActiveMiddle","totalPages","orderbydate","orderbybillid","orderbygroup","orderbyname","orderbylastname","orderbydescription","orderbywbs","barsize","previous","href","next","first","last","renderForPromise","then","_ref","html","js","content","appendNodeContents","sd","ed","pageval","test","text","closest","attributes","catch","error","loaded","total","arr","maxLength","activeIndex","indexOf","find","item","active","halfLength","beforeLength","min","afterLength","truncatedArray","i","push"],"mappings":"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"}