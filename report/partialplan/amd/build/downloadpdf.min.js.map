{"version":3,"file":"downloadpdf.min.js","sources":["../src/downloadpdf.js"],"sourcesContent":["export const init=(PDF,customerid)=>{\n    let link=document.querySelectorAll('.courseFinished');\n    link.forEach(element => {\n        element.addEventListener('click',(e)=>{\n            e.preventDefault();\n            let trainee_list=e.target.getAttribute('data-trainees').split(',');\n            trainee_list=trainee_list.reduce((arr,elem)=>{\n                const aux= elem.split(\"_\");\n                return [...arr,{group:aux[0],billid:aux[1]}];\n            },[]);\n            const coursedetail={\n                wbs:e.target.getAttribute('data-wbs'),\n                startdate:e.target.getAttribute('data-startdate'),\n                enddate:e.target.getAttribute('data-enddate')\n            }\n            \n            startRequestServer(PDF,customerid,coursedetail,trainee_list);\n            window.console.log(e.target);\n        })\n    });\n}\n\nconst startRequestServer=(PDF,customerid,coursedetail,trainee_list)=>{\n    const xhr=new XMLHttpRequest();\n    const url=window.location.protocol+'//'+window.location.hostname+'/webservice/rest/server.php';\n    xhr.open('POST',url,true);\n    const formData= new FormData();\n    const token=document.querySelector('#id_token').value;\n    formData.append('wstoken',token);\n    formData.append('wsfunction','report_partialplan_get_assessment');\n    formData.append('moodlewsrestformat','json');\n    for (let i=0;i<trainee_list.length;i++){\n        const group=trainee_list[i].group.trim();\n        const billid=trainee_list[i].billid.trim();\n        formData.append(`params[${i}][customerid]`,customerid);\n        formData.append(`params[${i}][group]`,group);\n        formData.append(`params[${i}][billid]`,billid);\n        formData.append(`params[${i}][wbs]`,coursedetail.wbs);\n        formData.append(`params[${i}][startdate]`,coursedetail.startdate);\n        formData.append(`params[${i}][enddate]`,coursedetail.enddate);\n    }            \n    xhr.send(formData);\n    xhr.onload = (event) =>{\n        onLoadFunction(PDF,xhr);\n        };\n    xhr.onprogress = (event)=>{\n        onProgressFunction(event);\n    } \n    xhr.onerror = function() {\n        window.console.log(\"Solicitud fallida\");\n    };\n}\n\nconst onLoadFunction=(PDF,myXhr)=>{\n    if (myXhr.readyState=== 4 && myXhr. status === 200){\n      const res=JSON.parse(myXhr.response);\n      window.console.log(res);\n      //Prepare the excel for to be downloaded\n      createPdf(PDF,res);\n  }\n  }\n\nconst onProgressFunction= (event)=>{\n    if (event.lengthComputable) {\n      window.console.log(`Recibidos ${event.loaded} de ${event.total} bytes`);\n    } else {\n      window.console.log(`Recibidos ${event.loaded} bytes`); // sin Content-Length\n    }\n}\n\nasync function createPdf(PDF,response){\n    const pdfDoc = await PDF.PDFDocument.create();\n    const font = await pdfDoc.embedFont(PDF.StandardFonts.Helvetica);\n    const fontBold = await pdfDoc.embedFont(PDF.StandardFonts.HelveticaBold);\n    listTrainees=response;\n    let page= pdfDoc.addPage();\n    const { width, height } = page.getSize();\n\n    // Create a string of text and measure its width and height in our custom font\n    const text = 'Course report';\n    const textSize = 24;\n    const textWidth = font.widthOfTextAtSize(text, textSize);\n    const textHeight = font.heightAtSize(textSize);\n    const verticalGap=textHeight/2;\n\n    // Draw the string of text on the page\n    page.drawText(text, {\n      x: width/2-textWidth/2,\n      y: height-textHeight-verticalGap,\n      size: textSize,\n      font: font,\n      color: PDF.rgb(0, 0.53, 0.71),\n    })\n\n    const courseTitle=listTrainees[0].coursename;\n    const textCourseSize=16;\n    const textCourseTitleWidth = font.widthOfTextAtSize(courseTitle, textCourseSize);\n    const textCourseTitleHeight = font.heightAtSize(textCourseSize);\n\n    // Draw the string of text on the page\n    page.drawText(courseTitle, {\n        x: width/2-textCourseTitleWidth/2,\n        y: height-textCourseTitleHeight-verticalGap-textHeight-verticalGap,\n        size: textCourseSize,\n        font: font,\n        color: PDF.rgb(0, 0.53, 0.71),\n      })\n    //Convert dates in miliseconds\n    let startdate=new Date(listTrainees[0].startdate*1000);\n    let day=startdate.getDate();\n    let month=startdate.getMonth()+1;\n    let year=startdate.getFullYear();\n    let formattedStartDate=`${day.toString().padStart(2, '0')}-${month.toString().padStart(2, '0')}-${year}`;\n    \n    let enddate=new Date(listTrainees[0].enddate*1000);\n    day=enddate.getDate();\n    month=enddate.getMonth()+1;\n    year=enddate.getFullYear();\n    let formattedEndDate=`${day.toString().padStart(2, '0')}-${month.toString().padStart(2, '0')}-${year}`;\n    \n    const textBody=`Below is a detailed list of the grades obtained by the trainees for the course ${listTrainees[0].coursename} that took place on the dates: ${formattedStartDate} to ${formattedEndDate}.`\n    const textBodySize=14;\n    const textBodyWidth = font.widthOfTextAtSize(textBody, textBodySize);\n    const textBodyHeight = font.heightAtSize(textBodySize);\n    page.drawText(textBody, {\n        x: 40,\n        y: height-textCourseTitleHeight-verticalGap-textHeight-verticalGap-textBodyHeight-verticalGap-verticalGap,\n        size: textBodySize,\n        font: font,\n        color: PDF.rgb(0, 0, 0),\n        maxWidth: width-80, wordBreaks: [\" \"]\n      })\n\n    let lineHeightPos=height-180;\n    page.drawLine({\n    start: { x: 40, y: lineHeightPos },\n    end: { x: width-40, y: lineHeightPos },\n    thickness: 1,\n    color: PDF.rgb(0, 0.53, 0.71),\n    opacity: 0.5,\n    });\n    const field1='ID Number';\n    const textFieldSize=12;\n    const textField1Width = font.widthOfTextAtSize(field1, textFieldSize);\n    const textField1Height = font.heightAtSize(textFieldSize);\n    const verticalFieldGap=textField1Height/2;\n    page.drawText( field1, {\n        x: 55,\n        y: height - 180 + textField1Height,\n        size: textFieldSize,\n        font: fontBold,\n        color: PDF.rgb(0, 0, 0)\n    });\n    const field2=\"Name\"\n    const textField2Width = font.widthOfTextAtSize(field2, textFieldSize);\n    page.drawText( field2, {\n        x: 55+textField1Width+textField2Width,\n        y: height - 180 + textField1Height,\n        size: textFieldSize,\n        font: fontBold,\n        color: PDF.rgb(0, 0, 0)\n    });\n\n    const field3=\"Attendance\"\n    const textField3Width = font.widthOfTextAtSize(field3, textFieldSize);\n    const field4=\"Assessment\"\n    const textField4Width = font.widthOfTextAtSize(field4, textFieldSize);\n    page.drawText( field3, {\n        x: width-55-textField3Width-textField4Width-30,\n        y: height - 180 + textField1Height,\n        size: textFieldSize,\n        font: fontBold,\n        color: PDF.rgb(0, 0, 0)\n    });\n\n    page.drawText( field4, {\n        x: width-55-textField4Width,\n        y: height - 180 + textField1Height,\n        size: textFieldSize,\n        font: fontBold,\n        color: PDF.rgb(0, 0, 0)\n    });\n\n    \n    let avgAtt,avgAss=0;\n    \n    \n\n    listTrainees.map((trainee,index)=>{\n        if (index==10 || index==20 || index==30 || index==40 || index==50){\n            page=pdfDoc.addPage();\n\n            // Draw the string of text on the page\n            page.drawText(text, {\n                x: width/2-textWidth/2,\n                y: height-textHeight-verticalGap,\n                size: textSize,\n                font: font,\n                color: PDF.rgb(0, 0.53, 0.71),\n            })\n\n            page.drawText(courseTitle, {\n                x: width/2-textCourseTitleWidth/2,\n                y: height-textCourseTitleHeight-verticalGap-textHeight-verticalGap,\n                size: textCourseSize,\n                font: font,\n                color: PDF.rgb(0, 0.53, 0.71),\n            })\n            \n            page.drawText(textBody, {\n                x: 40,\n                y: height-textCourseTitleHeight-verticalGap-textHeight-verticalGap-textBodyHeight-verticalGap-verticalGap,\n                size: textBodySize,\n                font: font,\n                color: PDF.rgb(0, 0, 0),\n                maxWidth: width-80, wordBreaks: [\" \"]\n            })\n            lineHeightPos=height-180;\n            page.drawLine({\n                start: { x: 40, y: lineHeightPos },\n                end: { x: width-40, y: lineHeightPos },\n                thickness: 1,\n                color: PDF.rgb(0, 0.53, 0.71),\n                opacity: 0.5,\n            });\n\n            page.drawText( field1, {\n                x: 55,\n                y: height - 180 + textField1Height,\n                size: textFieldSize,\n                font: fontBold,\n                color: PDF.rgb(0, 0, 0)\n            });\n\n            page.drawText( field2, {\n                x: 55+textField1Width+textField2Width,\n                y: height - 180 + textField1Height,\n                size: textFieldSize,\n                font: fontBold,\n                color: PDF.rgb(0, 0, 0)\n            });\n\n            page.drawText( field3, {\n                x: width-55-textField3Width-textField4Width-30,\n                y: height - 180 + textField1Height,\n                size: textFieldSize,\n                font: fontBold,\n                color: PDF.rgb(0, 0, 0)\n            });\n\n            page.drawText( field4, {\n                x: width-55-textField4Width,\n                y: height - 180 + textField1Height,\n                size: textFieldSize,\n                font: fontBold,\n                color: PDF.rgb(0, 0, 0)\n            });\n\n        } //End if\n        let textIdNumberWith=font.widthOfTextAtSize(trainee.billid,textFieldSize);\n        let textFieldHeight=font.heightAtSize(textFieldSize);\n        \n            lineHeightPos-=25;  \n        \n\n        page.drawText( trainee.billid, {\n            x: 55,\n            y: lineHeightPos+textFieldHeight/2,\n            size: textFieldSize,\n            font: font,\n            color: PDF.rgb(0, 0, 0)\n        });\n        let textNameWith=font.widthOfTextAtSize(trainee.firstname +', ' +trainee.lastname,textFieldSize);\n        page.drawText( trainee.firstname +', ' +trainee.lastname, {\n            x: 55+textField1Width+textField2Width,\n            y: lineHeightPos+textFieldHeight/2,\n            size: textFieldSize,\n            font: font,\n            color: PDF.rgb(0, 0, 0)\n        });\n        let attendance=(trainee.att===null)?'-':trainee.att;\n        avgAtt+=Math.floor(trainee.att * 100) / 100;\n        page.drawText( attendance, {\n            x: width-55-textField3Width-textField4Width-30+textField3Width/2,\n            y: lineHeightPos+textFieldHeight/2,\n            size: textFieldSize,\n            font: font,\n            color: PDF.rgb(0, 0, 0)\n        });\n\n        let assessment=(trainee.ass===null)?'-':trainee.ass;\n        avgAss+=Math.floor(trainee.ass * 100) / 100;\n        page.drawText( assessment, {\n            x: width-55-textField4Width+textField4Width/2,\n            y: lineHeightPos+textFieldHeight/2,\n            size: textFieldSize,\n            font: font,\n            color: PDF.rgb(0, 0, 0)\n        });\n\n        page.drawLine({\n            start: { x: 40, y: lineHeightPos },\n            end: { x: width-40, y: lineHeightPos },\n            thickness: 1,\n            color: PDF.rgb(0, 0.53, 0.71),\n            opacity: 0.5,\n        });\n\n    })\n\n    //Total score for the course\n    page.drawText( 'Total course average: ', {\n        x: width-350,\n        y: lineHeightPos-24,\n        size: textFieldSize,\n        font: fontBold,\n        color: PDF.rgb(0, 0, 0)\n    });\n\n    \n    page.drawText( avgAtt+' %', {\n        x: width-100-textField3Width/2-textField4Width,\n        y: lineHeightPos-24,\n        size: textFieldSize,\n        font: fontBold,\n        color: PDF.rgb(0, 0, 0)\n    });\n    \n    \n    page.drawText( ''+avgAss, {\n        x: width-55-(textField4Width/2),\n        y: lineHeightPos-24,\n        size: textFieldSize,\n        font: fontBold,\n        color: PDF.rgb(0, 0, 0)\n    });\n\n\n\n    const pdfDataUri=await pdfDoc.saveAsBase64({dataUri:true});\n    window.open(pdfDataUri);\n};\n\n"],"names":["PDF","customerid","document","querySelectorAll","forEach","element","addEventListener","e","preventDefault","trainee_list","target","getAttribute","split","reduce","arr","elem","aux","group","billid","coursedetail","wbs","startdate","enddate","startRequestServer","window","console","log","xhr","XMLHttpRequest","url","location","protocol","hostname","open","formData","FormData","token","querySelector","value","append","i","length","trim","send","onload","event","onLoadFunction","onprogress","onProgressFunction","onerror","myXhr","readyState","status","res","JSON","parse","response","pdfDoc","PDFDocument","create","font","embedFont","StandardFonts","Helvetica","fontBold","HelveticaBold","listTrainees","page","addPage","width","height","getSize","text","textSize","textWidth","widthOfTextAtSize","textHeight","heightAtSize","verticalGap","drawText","x","y","size","color","rgb","courseTitle","coursename","textCourseSize","textCourseTitleWidth","textCourseTitleHeight","Date","day","getDate","month","getMonth","year","getFullYear","formattedStartDate","toString","padStart","formattedEndDate","textBody","textBodySize","textBodyHeight","maxWidth","wordBreaks","lineHeightPos","drawLine","start","end","thickness","opacity","field1","textFieldSize","textField1Width","textField1Height","field2","textField2Width","field3","textField3Width","field4","textField4Width","avgAtt","avgAss","map","trainee","index","textFieldHeight","firstname","lastname","attendance","att","Math","floor","assessment","ass","pdfDataUri","saveAsBase64","dataUri","createPdf","lengthComputable","loaded","total"],"mappings":"mKAAkB,CAACA,IAAIC,cACVC,SAASC,iBAAiB,mBAC9BC,SAAQC,UACTA,QAAQC,iBAAiB,SAASC,IAC9BA,EAAEC,qBACEC,aAAaF,EAAEG,OAAOC,aAAa,iBAAiBC,MAAM,KAC9DH,aAAaA,aAAaI,QAAO,CAACC,IAAIC,cAC5BC,IAAKD,KAAKH,MAAM,WACf,IAAIE,IAAI,CAACG,MAAMD,IAAI,GAAGE,OAAOF,IAAI,OAC1C,UACIG,aAAa,CACfC,IAAIb,EAAEG,OAAOC,aAAa,YAC1BU,UAAUd,EAAEG,OAAOC,aAAa,kBAChCW,QAAQf,EAAEG,OAAOC,aAAa,iBAGlCY,mBAAmBvB,IAAIC,WAAWkB,aAAaV,cAC/Ce,OAAOC,QAAQC,IAAInB,EAAEG,qBAK3Ba,mBAAmB,CAACvB,IAAIC,WAAWkB,aAAaV,sBAC5CkB,IAAI,IAAIC,eACRC,IAAIL,OAAOM,SAASC,SAAS,KAAKP,OAAOM,SAASE,SAAS,8BACjEL,IAAIM,KAAK,OAAOJ,KAAI,SACdK,SAAU,IAAIC,SACdC,MAAMlC,SAASmC,cAAc,aAAaC,MAChDJ,SAASK,OAAO,UAAUH,OAC1BF,SAASK,OAAO,aAAa,qCAC7BL,SAASK,OAAO,qBAAqB,YAChC,IAAIC,EAAE,EAAEA,EAAE/B,aAAagC,OAAOD,IAAI,OAC7BvB,MAAMR,aAAa+B,GAAGvB,MAAMyB,OAC5BxB,OAAOT,aAAa+B,GAAGtB,OAAOwB,OACpCR,SAASK,wBAAiBC,mBAAiBvC,YAC3CiC,SAASK,wBAAiBC,cAAYvB,OACtCiB,SAASK,wBAAiBC,eAAatB,QACvCgB,SAASK,wBAAiBC,YAAUrB,aAAaC,KACjDc,SAASK,wBAAiBC,kBAAgBrB,aAAaE,WACvDa,SAASK,wBAAiBC,gBAAcrB,aAAaG,SAEzDK,IAAIgB,KAAKT,UACTP,IAAIiB,OAAUC,QACVC,eAAe9C,IAAI2B,MAEvBA,IAAIoB,WAAcF,QACdG,mBAAmBH,QAEvBlB,IAAIsB,QAAU,WACVzB,OAAOC,QAAQC,IAAI,uBAIrBoB,eAAe,CAAC9C,IAAIkD,YACE,IAApBA,MAAMC,YAAqC,MAAlBD,MAAOE,OAAe,OAC3CC,IAAIC,KAAKC,MAAML,MAAMM,UAC3BhC,OAAOC,QAAQC,IAAI2B,oBAcArD,IAAIwD,gBACnBC,aAAezD,IAAI0D,YAAYC,SAC/BC,WAAaH,OAAOI,UAAU7D,IAAI8D,cAAcC,WAChDC,eAAiBP,OAAOI,UAAU7D,IAAI8D,cAAcG,eAC1DC,aAAaV,aACTW,KAAMV,OAAOW,gBACXC,MAAEA,MAAFC,OAASA,QAAWH,KAAKI,UAGzBC,KAAO,gBACPC,SAAW,GACXC,UAAYd,KAAKe,kBAAkBH,KAAMC,UACzCG,WAAahB,KAAKiB,aAAaJ,UAC/BK,YAAYF,WAAW,EAG7BT,KAAKY,SAASP,KAAM,CAClBQ,EAAGX,MAAM,EAAEK,UAAU,EACrBO,EAAGX,OAAOM,WAAWE,YACrBI,KAAMT,SACNb,KAAMA,KACNuB,MAAOnF,IAAIoF,IAAI,EAAG,IAAM,aAGpBC,YAAYnB,aAAa,GAAGoB,WAC5BC,eAAe,GACfC,qBAAuB5B,KAAKe,kBAAkBU,YAAaE,gBAC3DE,sBAAwB7B,KAAKiB,aAAaU,gBAGhDpB,KAAKY,SAASM,YAAa,CACvBL,EAAGX,MAAM,EAAEmB,qBAAqB,EAChCP,EAAGX,OAAOmB,sBAAsBX,YAAYF,WAAWE,YACvDI,KAAMK,eACN3B,KAAMA,KACNuB,MAAOnF,IAAIoF,IAAI,EAAG,IAAM,WAGxB/D,UAAU,IAAIqE,KAA+B,IAA1BxB,aAAa,GAAG7C,WACnCsE,IAAItE,UAAUuE,UACdC,MAAMxE,UAAUyE,WAAW,EAC3BC,KAAK1E,UAAU2E,cACfC,6BAAsBN,IAAIO,WAAWC,SAAS,EAAG,iBAAQN,MAAMK,WAAWC,SAAS,EAAG,iBAAQJ,MAE9FzE,QAAQ,IAAIoE,KAA6B,IAAxBxB,aAAa,GAAG5C,SACrCqE,IAAIrE,QAAQsE,UACZC,MAAMvE,QAAQwE,WAAW,EACzBC,KAAKzE,QAAQ0E,kBACTI,2BAAoBT,IAAIO,WAAWC,SAAS,EAAG,iBAAQN,MAAMK,WAAWC,SAAS,EAAG,iBAAQJ,YAE1FM,kGAA2FnC,aAAa,GAAGoB,qDAA4CW,kCAAyBG,sBAChLE,aAAa,GAEbC,gBADgB3C,KAAKe,kBAAkB0B,SAAUC,cAChC1C,KAAKiB,aAAayB,eACzCnC,KAAKY,SAASsB,SAAU,CACpBrB,EAAG,GACHC,EAAGX,OAAOmB,sBAAsBX,YAAYF,WAAWE,YAAYyB,eAAezB,YAAYA,YAC9FI,KAAMoB,aACN1C,KAAMA,KACNuB,MAAOnF,IAAIoF,IAAI,EAAG,EAAG,GACrBoB,SAAUnC,MAAM,GAAIoC,WAAY,CAAC,WAGjCC,cAAcpC,OAAO,IACzBH,KAAKwC,SAAS,CACdC,MAAO,CAAE5B,EAAG,GAAIC,EAAGyB,eACnBG,IAAK,CAAE7B,EAAGX,MAAM,GAAIY,EAAGyB,eACvBI,UAAW,EACX3B,MAAOnF,IAAIoF,IAAI,EAAG,IAAM,KACxB2B,QAAS,WAEHC,OAAO,YACPC,cAAc,GACdC,gBAAkBtD,KAAKe,kBAAkBqC,OAAQC,eACjDE,iBAAmBvD,KAAKiB,aAAaoC,eAE3C9C,KAAKY,SAAUiC,OAAQ,CACnBhC,EAAG,GACHC,EAAGX,OAAS,IAAM6C,iBAClBjC,KAAM+B,cACNrD,KAAMI,SACNmB,MAAOnF,IAAIoF,IAAI,EAAG,EAAG,WAEnBgC,OAAO,OACPC,gBAAkBzD,KAAKe,kBAAkByC,OAAQH,eACvD9C,KAAKY,SAAUqC,OAAQ,CACnBpC,EAAG,GAAGkC,gBAAgBG,gBACtBpC,EAAGX,OAAS,IAAM6C,iBAClBjC,KAAM+B,cACNrD,KAAMI,SACNmB,MAAOnF,IAAIoF,IAAI,EAAG,EAAG,WAGnBkC,OAAO,aACPC,gBAAkB3D,KAAKe,kBAAkB2C,OAAQL,eACjDO,OAAO,aACPC,gBAAkB7D,KAAKe,kBAAkB6C,OAAQP,eACvD9C,KAAKY,SAAUuC,OAAQ,CACnBtC,EAAGX,MAAM,GAAGkD,gBAAgBE,gBAAgB,GAC5CxC,EAAGX,OAAS,IAAM6C,iBAClBjC,KAAM+B,cACNrD,KAAMI,SACNmB,MAAOnF,IAAIoF,IAAI,EAAG,EAAG,KAGzBjB,KAAKY,SAAUyC,OAAQ,CACnBxC,EAAGX,MAAM,GAAGoD,gBACZxC,EAAGX,OAAS,IAAM6C,iBAClBjC,KAAM+B,cACNrD,KAAMI,SACNmB,MAAOnF,IAAIoF,IAAI,EAAG,EAAG,SAIrBsC,OAAOC,OAAO,EAIlBzD,aAAa0D,KAAI,CAACC,QAAQC,SACX,IAAPA,OAAoB,IAAPA,OAAoB,IAAPA,OAAoB,IAAPA,OAAoB,IAAPA,QACpD3D,KAAKV,OAAOW,UAGZD,KAAKY,SAASP,KAAM,CAChBQ,EAAGX,MAAM,EAAEK,UAAU,EACrBO,EAAGX,OAAOM,WAAWE,YACrBI,KAAMT,SACNb,KAAMA,KACNuB,MAAOnF,IAAIoF,IAAI,EAAG,IAAM,OAG5BjB,KAAKY,SAASM,YAAa,CACvBL,EAAGX,MAAM,EAAEmB,qBAAqB,EAChCP,EAAGX,OAAOmB,sBAAsBX,YAAYF,WAAWE,YACvDI,KAAMK,eACN3B,KAAMA,KACNuB,MAAOnF,IAAIoF,IAAI,EAAG,IAAM,OAG5BjB,KAAKY,SAASsB,SAAU,CACpBrB,EAAG,GACHC,EAAGX,OAAOmB,sBAAsBX,YAAYF,WAAWE,YAAYyB,eAAezB,YAAYA,YAC9FI,KAAMoB,aACN1C,KAAMA,KACNuB,MAAOnF,IAAIoF,IAAI,EAAG,EAAG,GACrBoB,SAAUnC,MAAM,GAAIoC,WAAY,CAAC,OAErCC,cAAcpC,OAAO,IACrBH,KAAKwC,SAAS,CACVC,MAAO,CAAE5B,EAAG,GAAIC,EAAGyB,eACnBG,IAAK,CAAE7B,EAAGX,MAAM,GAAIY,EAAGyB,eACvBI,UAAW,EACX3B,MAAOnF,IAAIoF,IAAI,EAAG,IAAM,KACxB2B,QAAS,KAGb5C,KAAKY,SAAUiC,OAAQ,CACnBhC,EAAG,GACHC,EAAGX,OAAS,IAAM6C,iBAClBjC,KAAM+B,cACNrD,KAAMI,SACNmB,MAAOnF,IAAIoF,IAAI,EAAG,EAAG,KAGzBjB,KAAKY,SAAUqC,OAAQ,CACnBpC,EAAG,GAAGkC,gBAAgBG,gBACtBpC,EAAGX,OAAS,IAAM6C,iBAClBjC,KAAM+B,cACNrD,KAAMI,SACNmB,MAAOnF,IAAIoF,IAAI,EAAG,EAAG,KAGzBjB,KAAKY,SAAUuC,OAAQ,CACnBtC,EAAGX,MAAM,GAAGkD,gBAAgBE,gBAAgB,GAC5CxC,EAAGX,OAAS,IAAM6C,iBAClBjC,KAAM+B,cACNrD,KAAMI,SACNmB,MAAOnF,IAAIoF,IAAI,EAAG,EAAG,KAGzBjB,KAAKY,SAAUyC,OAAQ,CACnBxC,EAAGX,MAAM,GAAGoD,gBACZxC,EAAGX,OAAS,IAAM6C,iBAClBjC,KAAM+B,cACNrD,KAAMI,SACNmB,MAAOnF,IAAIoF,IAAI,EAAG,EAAG,MAIRxB,KAAKe,kBAAkBkD,QAAQ3G,OAAO+F,mBACvDc,gBAAgBnE,KAAKiB,aAAaoC,eAElCP,eAAe,GAGnBvC,KAAKY,SAAU8C,QAAQ3G,OAAQ,CAC3B8D,EAAG,GACHC,EAAGyB,cAAcqB,gBAAgB,EACjC7C,KAAM+B,cACNrD,KAAMA,KACNuB,MAAOnF,IAAIoF,IAAI,EAAG,EAAG,KAERxB,KAAKe,kBAAkBkD,QAAQG,UAAW,KAAMH,QAAQI,SAAShB,eAClF9C,KAAKY,SAAU8C,QAAQG,UAAW,KAAMH,QAAQI,SAAU,CACtDjD,EAAG,GAAGkC,gBAAgBG,gBACtBpC,EAAGyB,cAAcqB,gBAAgB,EACjC7C,KAAM+B,cACNrD,KAAMA,KACNuB,MAAOnF,IAAIoF,IAAI,EAAG,EAAG,SAErB8C,WAA0B,OAAdL,QAAQM,IAAY,IAAIN,QAAQM,IAChDT,QAAQU,KAAKC,MAAoB,IAAdR,QAAQM,KAAa,IACxChE,KAAKY,SAAUmD,WAAY,CACvBlD,EAAGX,MAAM,GAAGkD,gBAAgBE,gBAAgB,GAAGF,gBAAgB,EAC/DtC,EAAGyB,cAAcqB,gBAAgB,EACjC7C,KAAM+B,cACNrD,KAAMA,KACNuB,MAAOnF,IAAIoF,IAAI,EAAG,EAAG,SAGrBkD,WAA0B,OAAdT,QAAQU,IAAY,IAAIV,QAAQU,IAChDZ,QAAQS,KAAKC,MAAoB,IAAdR,QAAQU,KAAa,IACxCpE,KAAKY,SAAUuD,WAAY,CACvBtD,EAAGX,MAAM,GAAGoD,gBAAgBA,gBAAgB,EAC5CxC,EAAGyB,cAAcqB,gBAAgB,EACjC7C,KAAM+B,cACNrD,KAAMA,KACNuB,MAAOnF,IAAIoF,IAAI,EAAG,EAAG,KAGzBjB,KAAKwC,SAAS,CACVC,MAAO,CAAE5B,EAAG,GAAIC,EAAGyB,eACnBG,IAAK,CAAE7B,EAAGX,MAAM,GAAIY,EAAGyB,eACvBI,UAAW,EACX3B,MAAOnF,IAAIoF,IAAI,EAAG,IAAM,KACxB2B,QAAS,QAMjB5C,KAAKY,SAAU,yBAA0B,CACrCC,EAAGX,MAAM,IACTY,EAAGyB,cAAc,GACjBxB,KAAM+B,cACNrD,KAAMI,SACNmB,MAAOnF,IAAIoF,IAAI,EAAG,EAAG,KAIzBjB,KAAKY,SAAU2C,OAAO,KAAM,CACxB1C,EAAGX,MAAM,IAAIkD,gBAAgB,EAAEE,gBAC/BxC,EAAGyB,cAAc,GACjBxB,KAAM+B,cACNrD,KAAMI,SACNmB,MAAOnF,IAAIoF,IAAI,EAAG,EAAG,KAIzBjB,KAAKY,SAAU,GAAG4C,OAAQ,CACtB3C,EAAGX,MAAM,GAAIoD,gBAAgB,EAC7BxC,EAAGyB,cAAc,GACjBxB,KAAM+B,cACNrD,KAAMI,SACNmB,MAAOnF,IAAIoF,IAAI,EAAG,EAAG,WAKnBoD,iBAAiB/E,OAAOgF,aAAa,CAACC,SAAQ,IACpDlH,OAAOS,KAAKuG,YA1RVG,CAAU3I,IAAIqD,OAIdL,mBAAqBH,QACnBA,MAAM+F,iBACRpH,OAAOC,QAAQC,wBAAiBmB,MAAMgG,sBAAahG,MAAMiG,iBAEzDtH,OAAOC,QAAQC,wBAAiBmB,MAAMgG"}